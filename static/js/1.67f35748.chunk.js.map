{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/imagekitio-react/dist/imagekitio-react.umd.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","exports","React","_interopDefaultLegacy","e","React__default","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","obj","_extends","assign","arguments","source","hasOwnProperty","apply","this","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","iter","createCommonjsModule","fn","basedir","module","path","require","base","commonjsRequire","Error","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","resetWarningCache","factoryWithThrowingShims","shim","propName","componentName","location","propFullName","secret","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","propTypes","supportedTransforms","DEFAULT_TRANSFORMATION_POSITION","QUERY_TRANSFORMATION_POSITION","VALID_TRANSFORMATION_POSITIONS","CHAIN_TRANSFORM_DELIMITER","TRANSFORM_DELIMITER","TRANSFORM_KEY_VALUE_DELIMITER","transformationUtils","getDefault","addAsQueryParameter","options","transformationPosition","validParameters","getSupportedTransforms","getTransformKey","transform","toLowerCase","getChainTransformDelimiter","getTransformDelimiter","getTransformKeyValueDelimiter","TRANSFORMATION_PARAMETER","buildURL","opts","src","urlObj","isSrcParameterUsedForURL","urlEndpointPattern","URL","urlEndpoint","pathname","pathJoin","replace","sdkVersion","trim","searchParams","append","queryParameters","transformationString","constructTransformationString","transformation","href","parsedTransforms","l","parsedTransformStep","transformKey","removeTrailingSlash","removeLeadingSlash","join","str","substring","parts","sep","separator","RegExp","url","urlOpts","defaultOptions","errorMessages","message","help","respond","isError","response","callback","request","formData","generateSignatureToken","signaturObj","signature","expire","token","uploadFile","responseSucessText","xhr","XMLHttpRequest","timeout","open","authenticationEndpoint","ontimeout","AUTH_ENDPOINT_TIMEOUT","onerror","AUTH_ENDPOINT_NETWORK_ERROR","onload","status","body","JSON","parse","responseText","ex","error","send","uploadFileXHR","UPLOAD_ENDPOINT_NETWORK_ERROR","uploadResponse","upload","uploadOptions","file","fileName","FormData","publicKey","MISSING_AUTHENTICATION_ENDPOINT","MISSING_UPLOAD_FILENAME_PARAMETER","MISSING_UPLOAD_FILE_PARAMETER","INVALID_UPLOAD_OPTIONS","pkg","version","description","main","browser","unpkg","files","devDependencies","chai","codecov","esm","mocha","nyc","rollup","sinon","scripts","dev","build","startSampleApp","repository","type","keywords","author","license","bugs","homepage","ImageKit","mandatoryParametersAvailable","MANDATORY_INITIALIZATION_MISSING","privateKeyPassed","PRIVATE_KEY_CLIENT_SIDE","INVALID_TRANSFORMATION_POSITION","urlOptions","mergedOptions","privateKey","ImageKitContextType","createContext","pkg$1","jest","verbose","setupFilesAfterEnv","coveragePathIgnorePatterns","modulePathIgnorePatterns","cypress","enzyme","react","dependencies","peerDependencies","ImageKitComponent","_PureComponent","_super","context","_this","getContext","bind","contextOptions","ikClient","concat","getVersion","PureComponent","contextType","COMMON_PROPS","IK_IMAGE_PROPS","loading","lqip","IK_UPLOAD_PROPS","tags","useUniqueFileName","responseFields","isPrivateFile","folder","customCoordinates","onError","onSuccess","PROP_TYPES","IKContext","_ImageKitComponent","propKeys","children","extractContextOptions","createElement","Provider","PROP_TYPES$1","propsAffectingURL","IKImage","imageRef","createRef","_this$getSrc","getSrc","originalSrc","lqipSrc","state","currentUrl","originalSrcLoaded","intersected","_this$props","getIKClient","active","quality","parseInt","threshold","blur","newTransformation","navigator","connection","effectiveType","_this$state","_this$props2","_this$props2$lqip","setState","_this2","img","Image","updateImageUrl","_this3","image","current","_this$props3","window","rootMargin","getEffectiveConnection","imageObserver","IntersectionObserver","entries","el","isIntersecting","triggerOriginalImageLoad","disconnect","observe","prevProps","newProps","index","prevState","_this4","areObjectsDifferent","_this$getSrc2","_this$props4","restProps","alt","ref","PROP_TYPES$2","IKUpload","params","onChange","defaultProps","factory"],"mappings":"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","file":"static/js/1.67f35748.chunk.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ImageKitReact = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function createCommonjsModule(fn, basedir, module) {\n  \treturn module = {\n  \t\tpath: basedir,\n  \t\texports: {},\n  \t\trequire: function (path, base) {\n  \t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n  \t\t}\n  \t}, fn(module, module.exports), module.exports;\n  }\n\n  function commonjsRequire () {\n  \tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  var factoryWithThrowingShims = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret_1) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n\n  var propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n  });\n\n  var supportedTransforms = {\n    \"height\": \"h\",\n    \"width\": \"w\",\n    \"aspectRatio\": \"ar\",\n    \"quality\": \"q\",\n    \"crop\": \"c\",\n    \"cropMode\": \"cm\",\n    \"x\": \"x\",\n    \"y\": \"y\",\n    \"focus\": \"fo\",\n    \"format\": \"f\",\n    \"radius\": \"r\",\n    \"background\": \"bg\",\n    \"border\": \"b\",\n    \"rotation\": \"rt\",\n    \"rotate\": \"rt\",\n    \"blur\": \"bl\",\n    \"named\": \"n\",\n    \"overlayImage\": \"oi\",\n    \"overlayImageAspectRatio\": \"oiar\",\n    \"overlayImageBackground\": \"oibg\",\n    \"overlayImageBorder\": \"oib\",\n    \"overlayImageDPR\": \"oidpr\",\n    \"overlayImageQuality\": \"oiq\",\n    \"overlayImageCropping\": \"oic\",\n    \"overlayImageTrim\": \"oit\",\n    \"overlayX\": \"ox\",\n    \"overlayY\": \"oy\",\n    \"overlayFocus\": \"ofo\",\n    \"overlayHeight\": \"oh\",\n    \"overlayWidth\": \"ow\",\n    \"overlayText\": \"ot\",\n    \"overlayTextFontSize\": \"ots\",\n    \"overlayTextFontFamily\": \"otf\",\n    \"overlayTextColor\": \"otc\",\n    \"overlayTextTransparency\": \"oa\",\n    \"overlayAlpha\": \"oa\",\n    \"overlayTextTypography\": \"ott\",\n    \"overlayBackground\": \"obg\",\n    \"overlayTextEncoded\": \"ote\",\n    \"overlayTextWidth\": \"otw\",\n    \"overlayTextBackground\": \"otbg\",\n    \"overlayTextPadding\": \"otp\",\n    \"overlayTextInnerAlignment\": \"otia\",\n    \"overlayRadius\": \"or\",\n    \"progressive\": \"pr\",\n    \"lossless\": \"lo\",\n    \"trim\": \"t\",\n    \"metadata\": \"md\",\n    \"colorProfile\": \"cp\",\n    \"defaultImage\": \"di\",\n    \"dpr\": \"dpr\",\n    \"effectSharpen\": \"e-sharpen\",\n    \"effectUSM\": \"e-usm\",\n    \"effectContrast\": \"e-contrast\",\n    \"effectGray\": \"e-grayscale\",\n    \"original\": \"orig\"\n  };\n  const DEFAULT_TRANSFORMATION_POSITION = \"path\";\n  const QUERY_TRANSFORMATION_POSITION = \"query\";\n  const VALID_TRANSFORMATION_POSITIONS = [DEFAULT_TRANSFORMATION_POSITION, QUERY_TRANSFORMATION_POSITION];\n  const CHAIN_TRANSFORM_DELIMITER = \":\";\n  const TRANSFORM_DELIMITER = \",\";\n  const TRANSFORM_KEY_VALUE_DELIMITER = \"-\";\n  var transformationUtils = {\n    getDefault: function () {\n      return DEFAULT_TRANSFORMATION_POSITION;\n    },\n    addAsQueryParameter: function (options) {\n      return options.transformationPosition === QUERY_TRANSFORMATION_POSITION;\n    },\n    validParameters: function (options) {\n      return VALID_TRANSFORMATION_POSITIONS.indexOf(options.transformationPosition) != -1;\n    },\n    getSupportedTransforms: function () {\n      return supportedTransforms;\n    },\n    getTransformKey: function (transform) {\n      if (!transform) {\n        return \"\";\n      }\n\n      return supportedTransforms[transform] || supportedTransforms[transform.toLowerCase()] || \"\";\n    },\n    getChainTransformDelimiter: function () {\n      return CHAIN_TRANSFORM_DELIMITER;\n    },\n    getTransformDelimiter: function () {\n      return TRANSFORM_DELIMITER;\n    },\n    getTransformKeyValueDelimiter: function () {\n      return TRANSFORM_KEY_VALUE_DELIMITER;\n    }\n  };\n  const TRANSFORMATION_PARAMETER = \"tr\";\n\n  const buildURL = opts => {\n    if (!opts.path && !opts.src) {\n      return \"\";\n    }\n\n    var urlObj, isSrcParameterUsedForURL, urlEndpointPattern;\n\n    if (opts.path) {\n      urlEndpointPattern = new URL(opts.urlEndpoint).pathname;\n      urlObj = new URL(pathJoin([opts.urlEndpoint.replace(urlEndpointPattern, \"\"), opts.path]));\n    } else {\n      urlObj = new URL(opts.src);\n      isSrcParameterUsedForURL = true;\n    }\n\n    if (!urlObj) return \"\";\n\n    if (opts.sdkVersion && opts.sdkVersion.trim() != \"\") {\n      urlObj.searchParams.append(\"ik-sdk-version\", opts.sdkVersion.trim());\n    }\n\n    for (var i in opts.queryParameters) {\n      urlObj.searchParams.append(i, opts.queryParameters[i]);\n    }\n\n    var transformationString = constructTransformationString(opts.transformation);\n\n    if (transformationString && transformationString.length) {\n      if (transformationUtils.addAsQueryParameter(opts) || isSrcParameterUsedForURL) {\n        urlObj.searchParams.append(TRANSFORMATION_PARAMETER, transformationString);\n      } else {\n        urlObj.pathname = pathJoin([TRANSFORMATION_PARAMETER + transformationUtils.getChainTransformDelimiter() + transformationString, urlObj.pathname]);\n      }\n    }\n\n    urlObj.pathname = pathJoin([urlEndpointPattern, urlObj.pathname]);\n    return urlObj.href;\n  };\n\n  function constructTransformationString(transformation) {\n    if (!Array.isArray(transformation)) {\n      return \"\";\n    }\n\n    var parsedTransforms = [];\n\n    for (var i = 0, l = transformation.length; i < l; i++) {\n      var parsedTransformStep = [];\n\n      for (var key in transformation[i]) {\n        var transformKey = transformationUtils.getTransformKey(key);\n\n        if (!transformKey) {\n          transformKey = key;\n        }\n\n        if (transformation[i][key] === \"-\") {\n          parsedTransformStep.push(transformKey);\n        } else {\n          var value = transformation[i][key];\n\n          if (transformKey === \"oi\" || transformKey === \"di\") {\n            value = removeTrailingSlash(removeLeadingSlash(value));\n            value = value.replace(/\\//g, \"@@\");\n          }\n\n          parsedTransformStep.push([transformKey, value].join(transformationUtils.getTransformKeyValueDelimiter()));\n        }\n      }\n\n      parsedTransforms.push(parsedTransformStep.join(transformationUtils.getTransformDelimiter()));\n    }\n\n    return parsedTransforms.join(transformationUtils.getChainTransformDelimiter());\n  }\n\n  function removeTrailingSlash(str) {\n    if (typeof str == \"string\" && str[str.length - 1] == \"/\") {\n      str = str.substring(0, str.length - 1);\n    }\n\n    return str;\n  }\n\n  function removeLeadingSlash(str) {\n    if (typeof str == \"string\" && str[0] == \"/\") {\n      str = str.slice(1);\n    }\n\n    return str;\n  }\n\n  function pathJoin(parts, sep) {\n    var separator = sep || '/';\n    var replace = new RegExp(separator + '{1,}', 'g');\n    return parts.join(separator).replace(replace, separator);\n  }\n  /*\n      URL builder\n  */\n\n\n  const url = (urlOpts, defaultOptions) => {\n    var opts = { ...defaultOptions,\n      ...urlOpts\n    };\n    return buildURL(opts);\n  };\n\n  var errorMessages = {\n    \"MANDATORY_INITIALIZATION_MISSING\": {\n      message: \"Missing urlEndpoint during SDK initialization\",\n      help: \"\"\n    },\n    \"INVALID_TRANSFORMATION_POSITION\": {\n      message: \"Invalid transformationPosition parameter\",\n      help: \"\"\n    },\n    \"PRIVATE_KEY_CLIENT_SIDE\": {\n      message: \"privateKey should not be passed on the client side\",\n      help: \"\"\n    },\n    \"MISSING_UPLOAD_DATA\": {\n      message: \"Missing data for upload\",\n      help: \"\"\n    },\n    \"MISSING_UPLOAD_FILE_PARAMETER\": {\n      message: \"Missing file parameter for upload\",\n      help: \"\"\n    },\n    \"MISSING_UPLOAD_FILENAME_PARAMETER\": {\n      message: \"Missing fileName parameter for upload\",\n      help: \"\"\n    },\n    \"MISSING_AUTHENTICATION_ENDPOINT\": {\n      message: \"Missing authentication endpoint for upload\",\n      help: \"\"\n    },\n    \"AUTH_ENDPOINT_TIMEOUT\": {\n      message: \"The authenticationEndpoint you provided timed out in 60 seconds\",\n      help: \"\"\n    },\n    \"AUTH_ENDPOINT_NETWORK_ERROR\": {\n      message: \"Request to authenticationEndpoint failed due to network error\",\n      help: \"\"\n    },\n    \"UPLOAD_ENDPOINT_NETWORK_ERROR\": {\n      message: \"Request to ImageKit upload endpoint failed due to network error\",\n      help: \"\"\n    }\n  };\n\n  function respond(isError, response, callback) {\n    if (typeof callback == \"function\") {\n      if (isError) {\n        callback(response, null);\n      } else {\n        callback(null, response);\n      }\n    }\n  }\n\n  const request = (formData, options, callback) => {\n    generateSignatureToken(options, function (err, signaturObj) {\n      if (err) {\n        if (typeof callback != \"function\") return;\n        callback(err, null);\n        return;\n      } else {\n        formData.append(\"signature\", signaturObj.signature || \"\");\n        formData.append(\"expire\", signaturObj.expire || 0);\n        formData.append(\"token\", signaturObj.token);\n        uploadFile(formData, function (err, responseSucessText) {\n          if (err) {\n            if (typeof callback != \"function\") return;\n            callback(err, null);\n          } else {\n            callback(null, responseSucessText);\n          }\n        });\n      }\n    });\n  };\n\n  const generateSignatureToken = (options, callback) => {\n    var xhr = new XMLHttpRequest();\n    xhr.timeout = 60000;\n    xhr.open('GET', options.authenticationEndpoint);\n\n    xhr.ontimeout = function (e) {\n      if (typeof callback != \"function\") return;\n      respond(true, errorMessages.AUTH_ENDPOINT_TIMEOUT, callback);\n      return;\n    };\n\n    xhr.onerror = function () {\n      respond(true, errorMessages.AUTH_ENDPOINT_NETWORK_ERROR, callback);\n      return;\n    };\n\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        try {\n          var body = JSON.parse(xhr.responseText);\n          var obj = {\n            signature: body.signature,\n            expire: body.expire,\n            token: body.token\n          };\n          callback(null, obj);\n          return;\n        } catch (ex) {\n          if (typeof callback != \"function\") return;\n          callback(ex);\n        }\n      } else {\n        try {\n          var error = JSON.parse(xhr.responseText);\n          if (typeof callback != \"function\") return;\n          callback(error);\n        } catch (ex) {\n          if (typeof callback != \"function\") return;\n          callback(ex);\n        }\n      }\n    };\n\n    xhr.send();\n    return;\n  };\n\n  const uploadFile = (formData, callback) => {\n    var uploadFileXHR = new XMLHttpRequest();\n    uploadFileXHR.open('POST', 'https://upload.imagekit.io/api/v1/files/upload');\n\n    uploadFileXHR.onerror = function () {\n      respond(true, errorMessages.UPLOAD_ENDPOINT_NETWORK_ERROR, callback);\n      return;\n    };\n\n    uploadFileXHR.onload = function () {\n      if (uploadFileXHR.status === 200) {\n        if (typeof callback != \"function\") return;\n        var uploadResponse = JSON.parse(uploadFileXHR.responseText);\n        callback(null, uploadResponse);\n      } else if (uploadFileXHR.status !== 200) {\n        if (typeof callback != \"function\") return;\n        callback(JSON.parse(uploadFileXHR.responseText));\n      }\n    };\n\n    uploadFileXHR.send(formData);\n    return;\n  };\n\n  const upload = (uploadOptions, options, callback) => {\n    if (!uploadOptions) {\n      respond(true, errorMessages.INVALID_UPLOAD_OPTIONS, callback);\n      return;\n    }\n\n    if (!uploadOptions.file) {\n      respond(true, errorMessages.MISSING_UPLOAD_FILE_PARAMETER, callback);\n      return;\n    }\n\n    if (!uploadOptions.fileName) {\n      respond(true, errorMessages.MISSING_UPLOAD_FILENAME_PARAMETER, callback);\n      return;\n    }\n\n    if (!options.authenticationEndpoint) {\n      respond(true, errorMessages.MISSING_AUTHENTICATION_ENDPOINT, callback);\n      return;\n    }\n\n    var formData = new FormData();\n\n    for (var i in uploadOptions) {\n      formData.append(i, uploadOptions[i]);\n    }\n\n    formData.append(\"publicKey\", options.publicKey);\n    request(formData, options, callback);\n  };\n\n  var name = \"imagekit-javascript\";\n  var version = \"1.3.6\";\n  var description = \"Javascript SDK for using ImageKit.io in the browser\";\n  var main = \"dist/imagekit.cjs.js\";\n  var module = \"dist/imagekit.esm.js\";\n  var browser = \"dist/imagekit.min.js\";\n  var unpkg = \"dist/imagekit.min.js\";\n  var files = [\"dist\", \"src\"];\n  var devDependencies = {\n    \"@babel/cli\": \"^7.10.5\",\n    \"@babel/core\": \"^7.10.5\",\n    \"@babel/preset-env\": \"^7.10.4\",\n    \"@rollup/plugin-babel\": \"^5.2.0\",\n    \"@rollup/plugin-commonjs\": \"^14.0.0\",\n    \"@rollup/plugin-json\": \"^4.1.0\",\n    \"@rollup/plugin-node-resolve\": \"^8.4.0\",\n    chai: \"^4.2.0\",\n    codecov: \"^3.8.0\",\n    esm: \"^3.2.25\",\n    \"formdata-node\": \"2.1.0\",\n    mocha: \"^7.0.1\",\n    nyc: \"^15.1.0\",\n    rollup: \"^2.22.0\",\n    \"rollup-plugin-terser\": \"^6.1.0\",\n    sinon: \"^8.1.1\"\n  };\n  var scripts = {\n    dev: \"rollup -c -w\",\n    build: \"rm -rf dist*;rollup -c\",\n    test: \"export NODE_ENV=test && nyc ./node_modules/mocha/bin/mocha --coverage -r esm --exit -t 40000 test/*.js;ex=$? ; unset NODE_ENV ; exit $ex;\",\n    startSampleApp: \"yarn build && cd samples/sample-app/ && yarn install && node index.js\",\n    \"report-coverage\": \"nyc report --reporter=text-lcov > coverage.lcov && codecov\"\n  };\n  var repository = {\n    type: \"git\",\n    url: \"git+https://github.com/imagekit-developer/imagekit-javascript.git\"\n  };\n  var keywords = [\"imagekit\", \"javascript\", \"sdk\", \"js\", \"sdk\", \"image\", \"optimization\", \"image\", \"transformation\", \"image\", \"resize\"];\n  var author = \"ImageKit Developer\";\n  var license = \"MIT\";\n  var bugs = {\n    url: \"https://github.com/imagekit-developer/imagekit-javascript/issues\"\n  };\n  var homepage = \"https://github.com/imagekit-developer/imagekit-javascript#readme\";\n  var pkg = {\n    name: name,\n    version: version,\n    description: description,\n    main: main,\n    module: module,\n    browser: browser,\n    unpkg: unpkg,\n    files: files,\n    devDependencies: devDependencies,\n    scripts: scripts,\n    repository: repository,\n    keywords: keywords,\n    author: author,\n    license: license,\n    bugs: bugs,\n    homepage: homepage\n  };\n\n  const ImageKit = function (opts) {\n    opts = opts || {};\n    this.options = {\n      sdkVersion: `javascript-${pkg.version}`,\n      publicKey: \"\",\n      urlEndpoint: \"\",\n      transformationPosition: transformationUtils.getDefault()\n    };\n    this.options = { ...this.options,\n      ...opts\n    };\n\n    if (!mandatoryParametersAvailable(this.options)) {\n      throw errorMessages.MANDATORY_INITIALIZATION_MISSING;\n    }\n\n    if (privateKeyPassed(this.options)) {\n      throw errorMessages.PRIVATE_KEY_CLIENT_SIDE;\n    }\n\n    if (!transformationUtils.validParameters(this.options)) {\n      throw errorMessages.INVALID_TRANSFORMATION_POSITION;\n    }\n    /*\n        URL Builder\n    */\n\n\n    this.url = function (urlOptions) {\n      return url(urlOptions, this.options);\n    };\n    /*\n        Upload API\n    */\n\n\n    this.upload = function (uploadOptions, callback, options) {\n      var mergedOptions = { ...this.options,\n        ...options\n      };\n      return upload(uploadOptions, mergedOptions, callback);\n    };\n  };\n\n  function mandatoryParametersAvailable(options) {\n    return options.urlEndpoint;\n  }\n\n  function privateKeyPassed(options) {\n    return typeof options.privateKey != \"undefined\";\n  }\n\n  var ImageKitContextType = /*#__PURE__*/React.createContext();\n\n  var name$1 = \"imagekitio-react\";\n  var version$1 = \"1.0.11\";\n  var description$1 = \"React SDK for ImageKit.io which implements client-side upload and URL generation for use inside a react application.\";\n  var scripts$1 = {\n  \tbuild: \"rm -rf dist*;rollup -c\",\n  \ttest: \"jest\",\n  \t\"test:ci\": \"jest --coverage && codecov\",\n  \t\"test:cov\": \"jest --coverage\",\n  \t\"test:e2e\": \"cypress open\",\n  \t\"test:watch\": \"jest --watch\",\n  \t\"serve:test-app\": \"export SKIP_PREFLIGHT_CHECK=true;npx serve -s tests/test-app/build -p 4000\"\n  };\n  var repository$1 = {\n  \ttype: \"git\",\n  \turl: \"https://github.com/imagekit-developer/imagekit-react\"\n  };\n  var main$1 = \"dist/imagekitio-react.js\";\n  var module$1 = \"dist/imagekitio-react.esm.js\";\n  var browser$1 = \"dist/imagekitio-react.umd.js\";\n  var files$1 = [\n  \t\"dist\",\n  \t\"src\"\n  ];\n  var jest = {\n  \tverbose: true,\n  \tsetupFilesAfterEnv: [\n  \t\t\"<rootDir>/tests/jest/setupTests.js\"\n  \t],\n  \tcoveragePathIgnorePatterns: [\n  \t\t\"<rootDir>/tests/jest/mocks\"\n  \t],\n  \tmodulePathIgnorePatterns: [\n  \t\t\"<rootDir>/tests/cypress/\"\n  \t]\n  };\n  var author$1 = \"ImageKit\";\n  var license$1 = \"MIT\";\n  var devDependencies$1 = {\n  \t\"@babel/cli\": \"^7.7.4\",\n  \t\"@babel/core\": \"^7.7.4\",\n  \t\"@babel/plugin-proposal-class-properties\": \"^7.7.4\",\n  \t\"@babel/plugin-proposal-export-default-from\": \"^7.7.4\",\n  \t\"@babel/preset-env\": \"^7.7.4\",\n  \t\"@babel/preset-react\": \"^7.7.4\",\n  \t\"@babel/register\": \"^7.7.4\",\n  \t\"@babel/runtime\": \"^7.7.6\",\n  \t\"@rollup/plugin-babel\": \"^5.2.1\",\n  \t\"@rollup/plugin-commonjs\": \"^15.1.0\",\n  \t\"@rollup/plugin-json\": \"^4.1.0\",\n  \t\"@rollup/plugin-replace\": \"^2.3.3\",\n  \t\"babel-loader\": \"^8.0.6\",\n  \tcodecov: \"^3.8.0\",\n  \tcypress: \"^5.6.0\",\n  \tenzyme: \"^3.11.0\",\n  \t\"enzyme-adapter-react-16\": \"^1.15.5\",\n  \tjest: \"^26.5.2\",\n  \treact: \"^16.13.1\",\n  \t\"react-dom\": \"^16.13.1\",\n  \t\"react-test-renderer\": \"^16.13.1\",\n  \t\"require-context.macro\": \"^1.2.2\",\n  \trollup: \"^2.28.2\",\n  \t\"rollup-plugin-node-resolve\": \"^5.2.0\",\n  \t\"rollup-plugin-peer-deps-external\": \"^2.2.3\",\n  \t\"rollup-plugin-terser\": \"^7.0.2\",\n  \tsinon: \"^9.2.0\"\n  };\n  var dependencies = {\n  \t\"imagekit-javascript\": \"^1.3.6\",\n  \t\"prop-types\": \"^15.7.2\"\n  };\n  var peerDependencies = {\n  \treact: \"^16.13.1 || ^17.0.0\",\n  \t\"react-dom\": \"^16.13.1 || ^17.0.0\"\n  };\n  var pkg$1 = {\n  \tname: name$1,\n  \tversion: version$1,\n  \tdescription: description$1,\n  \tscripts: scripts$1,\n  \trepository: repository$1,\n  \tmain: main$1,\n  \tmodule: module$1,\n  \tbrowser: browser$1,\n  \t\"browser:min\": \"dist/imagekitio-react.umd.min.js\",\n  \tfiles: files$1,\n  \tjest: jest,\n  \tauthor: author$1,\n  \tlicense: license$1,\n  \tdevDependencies: devDependencies$1,\n  \tdependencies: dependencies,\n  \tpeerDependencies: peerDependencies\n  };\n\n  var ImageKitComponent = /*#__PURE__*/function (_PureComponent) {\n    _inherits(ImageKitComponent, _PureComponent);\n\n    var _super = _createSuper(ImageKitComponent);\n\n    function ImageKitComponent(props, context) {\n      var _this;\n\n      _classCallCheck(this, ImageKitComponent);\n\n      _this = _super.call(this, props, context);\n      _this.getContext = _this.getContext.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    _createClass(ImageKitComponent, [{\n      key: \"getVersion\",\n      value: function getVersion() {\n        return pkg$1.version;\n      }\n    }, {\n      key: \"getContext\",\n      value: function getContext() {\n        return this.context || {};\n      }\n    }, {\n      key: \"getIKClient\",\n      value: function getIKClient() {\n        var contextOptions = this.getContext();\n\n        if (contextOptions.ikClient) {\n          return contextOptions.ikClient;\n        }\n\n        var urlEndpoint = this.props.urlEndpoint;\n        urlEndpoint = urlEndpoint || contextOptions.urlEndpoint;\n\n        if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n          throw new Error(\"Missing urlEndpoint during initialization\");\n        }\n\n        var ikClient = new ImageKit({\n          sdkVersion: \"react-\".concat(this.getVersion()),\n          urlEndpoint: urlEndpoint\n        });\n        return ikClient;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return null;\n      }\n    }]);\n\n    return ImageKitComponent;\n  }(React.PureComponent);\n\n  ImageKitComponent.contextType = ImageKitContextType;\n\n  var COMMON_PROPS = {\n    publicKey: propTypes.string,\n    urlEndpoint: propTypes.string,\n    authenticationEndpoint: propTypes.string\n  };\n\n  var IK_IMAGE_PROPS = {\n    loading: propTypes.oneOf(['lazy']),\n    lqip: propTypes.object,\n    path: propTypes.string,\n    src: propTypes.string,\n    queryParameters: propTypes.object,\n    transformation: propTypes.arrayOf(propTypes.object),\n    transformationPosition: propTypes.oneOf(['path', 'query'])\n  };\n\n  var IK_UPLOAD_PROPS = {\n    fileName: propTypes.string,\n    tags: propTypes.array,\n    useUniqueFileName: propTypes.bool,\n    responseFields: propTypes.array,\n    isPrivateFile: propTypes.bool,\n    folder: propTypes.string,\n    customCoordinates: propTypes.string,\n    onError: propTypes.func,\n    onSuccess: propTypes.func\n  };\n\n  var PROP_TYPES = _objectSpread2(_objectSpread2(_objectSpread2({}, COMMON_PROPS), IK_IMAGE_PROPS), IK_UPLOAD_PROPS);\n  /**\n   * Provides a container for ImageKit components. Any option set in IKContext will be passed to the children.\n   *\n   * @example\n   *<IKContext  publicKey=\"<public key>\" urlEndpoint=\"url link\">\n   *    <!-- other tags -->\n   *    <Image src={link}/>\n   *</IKContext>\n   */\n\n\n  var IKContext = /*#__PURE__*/function (_ImageKitComponent) {\n    _inherits(IKContext, _ImageKitComponent);\n\n    var _super = _createSuper(IKContext);\n\n    function IKContext() {\n      _classCallCheck(this, IKContext);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(IKContext, [{\n      key: \"extractContextOptions\",\n      value: function extractContextOptions(mergedOptions) {\n        var result = {};\n        var propKeys = Object.keys(PROP_TYPES);\n\n        for (var i = 0; i < propKeys.length; i++) {\n          var key = propKeys[i];\n          var value = mergedOptions[key];\n          if (value) result[key] = value;\n        }\n\n        return result;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var children = this.props.children;\n\n        var mergedOptions = _objectSpread2(_objectSpread2({}, this.getContext()), this.props);\n\n        var contextOptions = this.extractContextOptions(mergedOptions);\n\n        if (contextOptions.urlEndpoint && contextOptions.urlEndpoint.trim() !== \"\") {\n          contextOptions.ikClient = new ImageKit({\n            sdkVersion: \"react-\".concat(this.getVersion()),\n            urlEndpoint: contextOptions.urlEndpoint\n          });\n        }\n\n        return /*#__PURE__*/React__default['default'].createElement(ImageKitContextType.Provider, {\n          value: contextOptions\n        }, children);\n      }\n    }]);\n\n    return IKContext;\n  }(ImageKitComponent);\n\n  IKContext.propTypes = PROP_TYPES;\n  IKContext.contextType = ImageKitContextType;\n\n  var PROP_TYPES$1 = _objectSpread2(_objectSpread2({}, COMMON_PROPS), IK_IMAGE_PROPS);\n\n  var propsAffectingURL = [\"urlEndpoint\", \"path\", \"src\", \"transformation\", \"transformationPosition\", \"queryParameters\"];\n\n  var IKImage = /*#__PURE__*/function (_ImageKitComponent) {\n    _inherits(IKImage, _ImageKitComponent);\n\n    var _super = _createSuper(IKImage);\n\n    function IKImage(props, context) {\n      var _this;\n\n      _classCallCheck(this, IKImage);\n\n      _this = _super.call(this, props, context);\n      _this.imageRef = /*#__PURE__*/React__default['default'].createRef();\n\n      var _this$getSrc = _this.getSrc(),\n          originalSrc = _this$getSrc.originalSrc,\n          lqipSrc = _this$getSrc.lqipSrc;\n\n      _this.state = {\n        currentUrl: undefined,\n        originalSrc: originalSrc,\n        lqipSrc: lqipSrc,\n        originalSrcLoaded: false,\n        intersected: false,\n        contextOptions: {}\n      };\n      return _this;\n    }\n\n    _createClass(IKImage, [{\n      key: \"getSrc\",\n      value: function getSrc() {\n        var result = {};\n        var _this$props = this.props,\n            lqip = _this$props.lqip,\n            src = _this$props.src,\n            path = _this$props.path,\n            transformation = _this$props.transformation,\n            transformationPosition = _this$props.transformationPosition,\n            queryParameters = _this$props.queryParameters;\n        var ikClient = this.getIKClient();\n        var contextOptions = this.getContext();\n        var options = {\n          urlEndpoint: this.props.urlEndpoint || contextOptions.urlEndpoint,\n          src: src || contextOptions.src,\n          path: path || contextOptions.path,\n          transformation: transformation || contextOptions.transformation,\n          transformationPosition: transformationPosition || contextOptions.transformationPosition,\n          queryParameters: queryParameters || contextOptions.queryParameters\n        };\n        result.originalSrc = ikClient.url(options);\n\n        if (lqip && lqip.active) {\n          var quality = parseInt(lqip.quality || lqip.threshold, 10) || 20;\n          var blur = parseInt(lqip.blur || lqip.blur, 10) || 6;\n          var newTransformation = options.transformation ? _toConsumableArray(options.transformation) : [];\n          newTransformation.push({\n            quality: quality,\n            blur: blur\n          });\n          result.lqipSrc = ikClient.url(_objectSpread2(_objectSpread2({}, options), {}, {\n            transformation: newTransformation\n          }));\n        }\n\n        return result;\n      }\n    }, {\n      key: \"getEffectiveConnection\",\n      value: function getEffectiveConnection() {\n        try {\n          return navigator.connection.effectiveType;\n        } catch (ex) {\n          return \"4g\";\n        }\n      }\n    }, {\n      key: \"updateImageUrl\",\n      value: function updateImageUrl() {\n        /*\n          No lazy loading no lqip\n            src=originalImage\n          No lazy loading lqip\n            src=lqip\n            src=originalImage (when loaded)\n          lazy loading and no lqip\n            src=''\n            onIntersect:\n            src=originalImage\n          lazy loading and lqip\n            src=lqip\n            onIntersect:\n            src=originalImage (when loaded)\n        */\n        var _this$state = this.state,\n            intersected = _this$state.intersected,\n            originalSrcLoaded = _this$state.originalSrcLoaded;\n        var _this$props2 = this.props,\n            _this$props2$lqip = _this$props2.lqip,\n            lqip = _this$props2$lqip === void 0 ? null : _this$props2$lqip,\n            loading = _this$props2.loading;\n\n        if (loading !== \"lazy\" && lqip === null) {\n          this.setState({\n            currentUrl: this.state.originalSrc\n          });\n        } else if (loading !== \"lazy\" && lqip && lqip.active) {\n          if (originalSrcLoaded) {\n            this.setState({\n              currentUrl: this.state.originalSrc\n            });\n          } else {\n            this.setState({\n              currentUrl: this.state.lqipSrc\n            });\n          }\n        } else if (loading === \"lazy\" && lqip === null) {\n          if (intersected) {\n            this.setState({\n              currentUrl: this.state.originalSrc\n            });\n          } else {\n            this.setState({\n              currentUrl: \"\"\n            });\n          }\n        } else if (loading === \"lazy\" && lqip && lqip.active) {\n          if (intersected && originalSrcLoaded) {\n            this.setState({\n              currentUrl: this.state.originalSrc\n            });\n          } else {\n            this.setState({\n              currentUrl: this.state.lqipSrc\n            });\n          }\n        }\n      }\n    }, {\n      key: \"triggerOriginalImageLoad\",\n      value: function triggerOriginalImageLoad() {\n        var _this2 = this;\n\n        var img = new Image();\n\n        img.onload = function () {\n          _this2.setState({\n            originalSrcLoaded: true\n          }, function () {\n            _this2.updateImageUrl();\n          });\n        };\n\n        img.src = this.state.originalSrc;\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this3 = this;\n\n        this.updateImageUrl();\n        this.setState({\n          contextOptions: this.getContext()\n        });\n        var image = this.imageRef.current;\n        var _this$props3 = this.props,\n            lqip = _this$props3.lqip,\n            loading = _this$props3.loading;\n\n        if (window && 'IntersectionObserver' in window && loading === \"lazy\") {\n          var connectionType = this.getEffectiveConnection(); // Values based on native lazy loading in Chrome - https://web.dev/native-lazy-loading/#improved-data-savings-and-distance-from-viewport-thresholds\n\n          var rootMargin = \"1250px\";\n          if (connectionType !== \"4g\") rootMargin = \"2500px\";\n          var imageObserver = new IntersectionObserver(function (entries) {\n            var el = entries[0];\n\n            if (el && el.isIntersecting) {\n              _this3.setState({\n                intersected: true\n              }, function () {\n                if (lqip && lqip.active) _this3.triggerOriginalImageLoad();\n                imageObserver.disconnect();\n\n                _this3.updateImageUrl();\n              });\n            }\n          }, {\n            rootMargin: \"\".concat(rootMargin, \" 0px \").concat(rootMargin, \" 0px\")\n          });\n          imageObserver.observe(image);\n          this.setState({\n            observe: imageObserver\n          });\n        } else {\n          // Load original image right away\n          this.setState({\n            intersected: true\n          }, function () {\n            if (lqip && lqip.active) _this3.triggerOriginalImageLoad();\n\n            _this3.updateImageUrl();\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var observe = this.state.observe;\n        if (observe) observe.disconnect();\n      }\n    }, {\n      key: \"areObjectsDifferent\",\n      value: function areObjectsDifferent(prevProps, newProps) {\n        for (var index = 0; index < propsAffectingURL.length; index++) {\n          if (prevProps[propsAffectingURL[index]] != newProps[propsAffectingURL[index]]) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps, prevState) {\n        var _this4 = this;\n\n        var contextOptions = this.getContext();\n\n        if (this.areObjectsDifferent(prevProps, this.props) || this.areObjectsDifferent(prevState.contextOptions, contextOptions)) {\n          var _this$getSrc2 = this.getSrc(),\n              originalSrc = _this$getSrc2.originalSrc,\n              lqipSrc = _this$getSrc2.lqipSrc;\n\n          this.setState({\n            originalSrc: originalSrc,\n            lqipSrc: lqipSrc\n          }, function () {\n            _this4.updateImageUrl();\n\n            _this4.setState({\n              contextOptions: _this4.getContext()\n            });\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var currentUrl = this.state.currentUrl;\n\n        var _this$props4 = this.props,\n            urlEndpoint = _this$props4.urlEndpoint,\n            loading = _this$props4.loading,\n            lqip = _this$props4.lqip,\n            path = _this$props4.path,\n            src = _this$props4.src,\n            transformation = _this$props4.transformation,\n            transformationPosition = _this$props4.transformationPosition,\n            queryParameters = _this$props4.queryParameters,\n            restProps = _objectWithoutProperties(_this$props4, [\"urlEndpoint\", \"loading\", \"lqip\", \"path\", \"src\", \"transformation\", \"transformationPosition\", \"queryParameters\"]);\n\n        return /*#__PURE__*/React__default['default'].createElement(\"img\", _extends({\n          alt: this.props.alt || \"\",\n          src: currentUrl,\n          ref: this.imageRef\n        }, restProps));\n      }\n    }]);\n\n    return IKImage;\n  }(ImageKitComponent);\n\n  IKImage.propTypes = PROP_TYPES$1;\n\n  var PROP_TYPES$2 = _objectSpread2(_objectSpread2({}, COMMON_PROPS), IK_UPLOAD_PROPS);\n\n  var IKUpload = /*#__PURE__*/function (_ImageKitComponent) {\n    _inherits(IKUpload, _ImageKitComponent);\n\n    var _super = _createSuper(IKUpload);\n\n    function IKUpload() {\n      _classCallCheck(this, IKUpload);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(IKUpload, [{\n      key: \"uploadFile\",\n      value: function uploadFile(e) {\n        var contextOptions = this.getContext();\n        var _this$props = this.props,\n            fileName = _this$props.fileName,\n            useUniqueFileName = _this$props.useUniqueFileName,\n            tags = _this$props.tags,\n            folder = _this$props.folder,\n            isPrivateFile = _this$props.isPrivateFile,\n            customCoordinates = _this$props.customCoordinates,\n            responseFields = _this$props.responseFields,\n            onError = _this$props.onError,\n            onSuccess = _this$props.onSuccess;\n        var publicKey = this.props.publicKey || contextOptions.publicKey;\n        var authenticationEndpoint = this.props.authenticationEndpoint || contextOptions.authenticationEndpoint;\n        var urlEndpoint = this.props.urlEndpoint || contextOptions.urlEndpoint;\n\n        if (!publicKey || publicKey.trim() === \"\") {\n          if (onError && typeof onError === \"function\") {\n            onError({\n              message: \"Missing publicKey\"\n            });\n          }\n\n          return;\n        }\n\n        if (!authenticationEndpoint || authenticationEndpoint.trim() === \"\") {\n          if (onError && typeof onError === \"function\") {\n            onError({\n              message: \"Missing authenticationEndpoint\"\n            });\n          }\n\n          return;\n        }\n\n        if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n          if (onError && typeof onError === \"function\") {\n            onError({\n              message: \"Missing urlEndpoint\"\n            });\n          }\n\n          return;\n        }\n\n        var ikClient = this.getIKClient();\n        var file = e.target.files[0];\n        var params = {\n          file: file,\n          fileName: fileName || file.name,\n          useUniqueFileName: useUniqueFileName,\n          tags: tags,\n          folder: folder,\n          isPrivateFile: isPrivateFile,\n          customCoordinates: customCoordinates,\n          responseFields: responseFields\n        };\n        ikClient.upload(params, function (err, result) {\n          if (err) {\n            if (onError && typeof onError === \"function\") {\n              onError(err);\n            }\n          } else {\n            if (onSuccess && typeof onSuccess === \"function\") {\n              onSuccess(result);\n            }\n          }\n        }, {\n          publicKey: publicKey,\n          authenticationEndpoint: authenticationEndpoint\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this = this;\n\n        var _this$props2 = this.props,\n            publicKey = _this$props2.publicKey,\n            urlEndpoint = _this$props2.urlEndpoint,\n            authenticationEndpoint = _this$props2.authenticationEndpoint,\n            fileName = _this$props2.fileName,\n            useUniqueFileName = _this$props2.useUniqueFileName,\n            tags = _this$props2.tags,\n            folder = _this$props2.folder,\n            isPrivateFile = _this$props2.isPrivateFile,\n            customCoordinates = _this$props2.customCoordinates,\n            responseFields = _this$props2.responseFields,\n            onError = _this$props2.onError,\n            onSuccess = _this$props2.onSuccess,\n            restProps = _objectWithoutProperties(_this$props2, [\"publicKey\", \"urlEndpoint\", \"authenticationEndpoint\", \"fileName\", \"useUniqueFileName\", \"tags\", \"folder\", \"isPrivateFile\", \"customCoordinates\", \"responseFields\", \"onError\", \"onSuccess\"]);\n\n        return /*#__PURE__*/React__default['default'].createElement(\"input\", _extends({\n          type: \"file\"\n        }, restProps, {\n          onChange: function onChange(e) {\n            if (_this.props.onChange && typeof _this.props.onChange === \"function\") {\n              _this.props.onChange(e);\n            }\n\n            _this.uploadFile(e);\n          }\n        }));\n      }\n    }]);\n\n    return IKUpload;\n  }(ImageKitComponent);\n  IKUpload.defaultProps = {\n    useUniqueFileName: true,\n    isPrivateFile: false,\n    customCoordinates: \"\",\n    tags: [],\n    folder: \"/\",\n    responseFields: []\n  };\n  IKUpload.propTypes = PROP_TYPES$2;\n\n  exports.IKContext = IKContext;\n  exports.IKImage = IKImage;\n  exports.IKUpload = IKUpload;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","var defineProperty = require(\"./defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;"],"sourceRoot":""}